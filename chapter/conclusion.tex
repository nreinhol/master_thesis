\section{Conclusion}
In this research, we described the difficulties of integrating distributes renewable energy sources (RES) into 
the existing electric grid and presented peer-to-peer (P2P) energy trading in local energy markets (LEM)
as a possible solution to technical and market problems. Further, we pointed out that central
management in P2P energy trading is challenging due to the need for advanced communication and data exchanges,
which is why local distributed control and management techniques are more suitable.
Therefore, we introduced the Ethereum-based blockchain as a new and innovative information communication technology (ICT), 
which fulfills the need for distributed control and management techniques.
Moreover, we presented the Bundle Trading Market Framework (BTM), which solves a distributed system
optimization problem by self-interested agents that iteratively trading bundled resources in a double
auction market run by a dealer. 
Then, we brought all introduced topics together and proposed a concept for an open blockchain-based 
LEM simulation (BLEMS). Therefore, we presented the architectural design and embedded the BTM into the topic of LEM
by conceptualizing a linear program (LP) for demand side management of households. 
Finally, the technical implementation of the BLEMS is outlined, in which we described the issues due to
specific properties of blockchain and presented the applied solutions.

In the following section, we investigate whether the developed simulation contains all components for the efficient 
operation of a blockchain-based LEM, which are introduced in section \ref{sec:components_of_local_energy_markets}. 
Then, we outline the contribution of this research. Finally, we examine further areas of research.

\subsection{Compliance of LEM Components}
\label{sec:compliance_of_components}

In this subsection, we examine if the seven components for the efficient operation of LEM,
elaborated by \shortcite{mengelkamp2018designing}, can be 
provided by the developed simulation platform.
Referring to the microgrid setup (C1), an explicit objective, a definition of the market participants and a definition of the form of the traded energy is required. The developed simulation can meet these requirements. The explicit objective can be defined by the researcher itself by setting up a central problem. It is possible to define the market participants and the form of the traded energy bundles
according to your requirements.
Referring to the grid connection (C2), well defined connection points to the superordinate main grid are required.
These connection points are not implemented yet, but the implementation of these connection points 
into dealer's smart contract is possible.
It would be conceivable to integrate these into the inventory policy of the dealer.
As for the information system (C3), the requirements are fulfilled due to the usage of blockchain as the ICT.
Moreover, the applied BTM constitutes an appropriate market mechanism (C4). The BTM defines a clear bidding strategy and the 
overall objective of the applied framework is to provide an optimal allocation in near real-time. 
Additionally, the BTM determines the respective prices by calculating the dual variables.
Therefore, the developed simulation also includes a pricing mechanism (C5) that supports an efficient allocation.
Likewise, a suitable EMTS (C6) is provided by the applied BTM. 
It ensures automatically the energy supply and aims to minimize energy costs.
Finally, the developed simulation lacks the definition of how LEM fit into the current energy policy and how taxes and fees are distributed and billed. 
That is why the component regulation (C7) is not fulfilled. 
In conclusion, the developed simulation provides five of seven components for the efficient operation of LEM
and allows the integration of the missing two components.
To remember, the components have no general validity but allow an initial assessment of the platform and its capabilities.
Therefore, the BLEMS provides an appropriate and valuable basis for a significant blockchain-based simulation of LEM. 

\subsection{Contribution}
The conducted research provides two core contributions.

First, the decentralized implementation of the proposed BTM. 
We successfully implemented the BTM with a blockchain as the applied ICT, 
in which the sum of the agents objectives equals the objective of the central problem. 
We also applied the numerical example of \shortciteA{guo2007market} and 
ended up with the same objectives and resource allocations, listed in the log 
of the executed simulation in appendix \ref{appendix:log_output}.
Since the application of blockchain technology, the technical implementation
is publicly accessible, hence more transparency is provided and the 
required level of trust in the BTM is reduced. 
Nevertheless, to increase efficiency of the distributed solution,
we moved calculations off-chain, which is why the respective source code 
is not transparent to all stakeholders anymore.
To address this issue, we developed the \textit{Agent Trade Verification} procedure,
which based on strong duality theory.
Therefore, the level of transparency is maintained and
the appliance of commercial solvers is enabled. 
Additionally, the blockchain contains cryptographic encryption methods,
which also raises the level of security in the BTM.
In conclusion, a secure and decentralized market-based optimization algorithm for distributed systems has 
been developed.

Second, we conceptualized a blockchain-based LEM simulation based on the implemented
BTM. We proposed an exemplary linear programming problem in terms of 
energy efficient demand side management of households to embed the BTM into the topic of LEM.
Moreover, the conducted research removes technical barriers.
The section \ref{sec:implementation} provides a detailed 
explanation of the implementation and deals with the special features 
of the blockchain functionality.
Hence, the usage of complex distributed ledger technologies for researchers
is simplified. 
In addition, the programming language Python is very 
friendly for beginners and eases the entry into the use of the BLEMS.
Therefore, it incentivizes researchers 
to design and test their artifacts by using the BLEMS.
Furthermore, due to the customizability of the blockchain properties 
the developed simulation allows for testing different scenarios and thus 
to get a better understanding of the dynamics of a blockchain-based decentralized LEM.

\subsection{Future Work}
The conducted research offers the potential for future work in many areas.

First, we stated in section \ref{sec:market_clearing_mechanism}, that we
applied a synchronous call market, where submitted orders to the system
will be accumulated and processed simultaneously at periodic intervals.
In a real-world application, it would be more appropriate to clear the market every time new orders arrive. Therefore,
the implementation from the synchronous to the introduced asynchronous market trading environment of \shortciteA{guo2012computational} would be reasonable. 

Second, the implementation of an auction mechanism by a blockchain causes 
difficulties regarding privacy. Every on-chain data is publicly available. 
In case of an auction mechanism, this can result in competitive advantages
for those who submit their orders later on. 
This would not be an issue in an environment where all orders submitted simultaneously and written into the same block.
Otherwise, in an environment where orders submitted at different times and written into different blocks,
some participants will have a competitive advantage, as they can see the orders 
of others before they have submitted their own order.
In a real-world application, this scenario is more likely, hence
future work could address the implementation of commitment schemes
in the area of agent bidding to avoid those issues.

Finally, as described in this research, we implemented no strategic
actions in the bundle selection and pricing. 
However, \shortciteA{guo2012computational} represent various 
forms of agent strategic behavior regarding bundle selection 
and bundle pricing.
In their proposals, agents use forecasted market prices to determine the preferred bundles
instead of the most recently observed market prices. 
These approaches could be adopted by future work and implemented
into the presented BLEMS.
In addition, \shortciteA{guo2012computational} also introduce two
different inventory policies of the dealer to examine if holding intertemporal inventory can 
facilitate real-time trades in the BTM environment. The implementation of those inventory policies
into the presented simulation and the adaption of these policies
into the context of LEM could be also of interest for future work. 








\begin{comment}

\end{comment}